<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Library API &mdash; ArcticDB  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="arcticdb.version_store.library.Library" href="library/arcticdb.version_store.library.Library.html" />
    <link rel="prev" title="arcticdb.LibraryOptions" href="arcticdb/arcticdb.LibraryOptions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            ArcticDB
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="arcticdb.html">Arctic API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Library API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.Library.html">arcticdb.version_store.library.Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.NormalizableType.html">arcticdb.version_store.library.NormalizableType</a></li>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.ArcticInvalidApiUsageException.html">arcticdb.version_store.library.ArcticInvalidApiUsageException</a></li>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException.html">arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException</a></li>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.ArcticUnsupportedDataTypeException.html">arcticdb.version_store.library.ArcticUnsupportedDataTypeException</a></li>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.SymbolVersion.html">arcticdb.version_store.library.SymbolVersion</a></li>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.VersionInfo.html">arcticdb.version_store.library.VersionInfo</a></li>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.SymbolDescription.html">arcticdb.version_store.library.SymbolDescription</a></li>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.WritePayload.html">arcticdb.version_store.library.WritePayload</a></li>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.ReadRequest.html">arcticdb.version_store.library.ReadRequest</a></li>
<li class="toctree-l2"><a class="reference internal" href="library/arcticdb.version_store.library.ReadInfoRequest.html">arcticdb.version_store.library.ReadInfoRequest</a></li>
<li class="toctree-l2"><a class="reference internal" href="#arcticdb.version_store.library.Library"><code class="docutils literal notranslate"><span class="pre">Library</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.__init__"><code class="docutils literal notranslate"><span class="pre">Library.__init__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.write"><code class="docutils literal notranslate"><span class="pre">Library.write()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.write_pickle"><code class="docutils literal notranslate"><span class="pre">Library.write_pickle()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.write_batch"><code class="docutils literal notranslate"><span class="pre">Library.write_batch()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.write_batch_pickle"><code class="docutils literal notranslate"><span class="pre">Library.write_batch_pickle()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.append"><code class="docutils literal notranslate"><span class="pre">Library.append()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.update"><code class="docutils literal notranslate"><span class="pre">Library.update()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.finalize_staged_data"><code class="docutils literal notranslate"><span class="pre">Library.finalize_staged_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.sort_and_finalize_staged_data"><code class="docutils literal notranslate"><span class="pre">Library.sort_and_finalize_staged_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.get_staged_symbols"><code class="docutils literal notranslate"><span class="pre">Library.get_staged_symbols()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.read"><code class="docutils literal notranslate"><span class="pre">Library.read()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.read_batch"><code class="docutils literal notranslate"><span class="pre">Library.read_batch()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.read_metadata"><code class="docutils literal notranslate"><span class="pre">Library.read_metadata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.read_metadata_batch"><code class="docutils literal notranslate"><span class="pre">Library.read_metadata_batch()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.write_metadata"><code class="docutils literal notranslate"><span class="pre">Library.write_metadata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.snapshot"><code class="docutils literal notranslate"><span class="pre">Library.snapshot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.delete"><code class="docutils literal notranslate"><span class="pre">Library.delete()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.prune_previous_versions"><code class="docutils literal notranslate"><span class="pre">Library.prune_previous_versions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.delete_data_in_range"><code class="docutils literal notranslate"><span class="pre">Library.delete_data_in_range()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.delete_snapshot"><code class="docutils literal notranslate"><span class="pre">Library.delete_snapshot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.list_symbols"><code class="docutils literal notranslate"><span class="pre">Library.list_symbols()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.has_symbol"><code class="docutils literal notranslate"><span class="pre">Library.has_symbol()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.list_snapshots"><code class="docutils literal notranslate"><span class="pre">Library.list_snapshots()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.list_versions"><code class="docutils literal notranslate"><span class="pre">Library.list_versions()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.head"><code class="docutils literal notranslate"><span class="pre">Library.head()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.tail"><code class="docutils literal notranslate"><span class="pre">Library.tail()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.get_description"><code class="docutils literal notranslate"><span class="pre">Library.get_description()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.get_description_batch"><code class="docutils literal notranslate"><span class="pre">Library.get_description_batch()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.reload_symbol_list"><code class="docutils literal notranslate"><span class="pre">Library.reload_symbol_list()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arcticdb.version_store.library.Library.name"><code class="docutils literal notranslate"><span class="pre">Library.name</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="query_builder.html">Query Builder API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ArcticDB</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Library API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/library.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="library-api">
<h1>Library API<a class="headerlink" href="#library-api" title="Permalink to this heading"></a></h1>
<p>This page documents the <code class="docutils literal notranslate"><span class="pre">arcticdb.version_store.library</span></code> module. This module is the main interface
exposing read/write functionality within a given Arctic instance.</p>
<p>The key functionality is exposed through <code class="docutils literal notranslate"><span class="pre">arcticdb.version_store.library.Library</span></code> instances. See the
Arctic API section for notes on how to create these. The other types exposed in this module are less
important and are used as part of the signature of <code class="docutils literal notranslate"><span class="pre">arcticdb.version_store.library.Library</span></code> instance
methods.</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.Library.html#arcticdb.version_store.library.Library" title="arcticdb.version_store.library.Library"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.Library</span></code></a>(...)</p></td>
<td><p>The main interface exposing read/write functionality within a given Arctic instance.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.NormalizableType.html#arcticdb.version_store.library.NormalizableType" title="arcticdb.version_store.library.NormalizableType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.NormalizableType</span></code></a></p></td>
<td><p>Types that can be normalised into Arctic's internal storage structure.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.ArcticInvalidApiUsageException.html#arcticdb.version_store.library.ArcticInvalidApiUsageException" title="arcticdb.version_store.library.ArcticInvalidApiUsageException"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.ArcticInvalidApiUsageException</span></code></a></p></td>
<td><p>Exception indicating an invalid call made to the Arctic API.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException.html#arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException" title="arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException</span></code></a></p></td>
<td><p>Exception indicating that duplicate symbols were passed to a batch method of this module.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.ArcticUnsupportedDataTypeException.html#arcticdb.version_store.library.ArcticUnsupportedDataTypeException" title="arcticdb.version_store.library.ArcticUnsupportedDataTypeException"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.ArcticUnsupportedDataTypeException</span></code></a></p></td>
<td><p>Exception indicating that a method does not support the type of data provided.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.SymbolVersion.html#arcticdb.version_store.library.SymbolVersion" title="arcticdb.version_store.library.SymbolVersion"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.SymbolVersion</span></code></a>(...)</p></td>
<td><p>A named tuple.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.VersionInfo.html#arcticdb.version_store.library.VersionInfo" title="arcticdb.version_store.library.VersionInfo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.VersionInfo</span></code></a>(...)</p></td>
<td><p>A named tuple.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.SymbolDescription.html#arcticdb.version_store.library.SymbolDescription" title="arcticdb.version_store.library.SymbolDescription"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.SymbolDescription</span></code></a>(...)</p></td>
<td><p>A named tuple.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.WritePayload.html#arcticdb.version_store.library.WritePayload" title="arcticdb.version_store.library.WritePayload"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.WritePayload</span></code></a>(...)</p></td>
<td><p>WritePayload is designed to enable batching of multiple operations with an API that mirrors the singular <code class="docutils literal notranslate"><span class="pre">write</span></code> API.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.ReadRequest.html#arcticdb.version_store.library.ReadRequest" title="arcticdb.version_store.library.ReadRequest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.ReadRequest</span></code></a>(symbol)</p></td>
<td><p>ReadRequest is designed to enable batching of read operations with an API that mirrors the singular <code class="docutils literal notranslate"><span class="pre">read</span></code> API.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="library/arcticdb.version_store.library.ReadInfoRequest.html#arcticdb.version_store.library.ReadInfoRequest" title="arcticdb.version_store.library.ReadInfoRequest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">arcticdb.version_store.library.ReadInfoRequest</span></code></a>(symbol)</p></td>
<td><p>ReadInfoRequest is useful for batch methods like read_metadata_batch and get_description_batch, where we only need to specify the symbol and the version information.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arcticdb.version_store.library.</span></span><span class="sig-name descname"><span class="pre">Library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arctic_instance_description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nvs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NativeVersionStore</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library" title="Permalink to this definition"></a></dt>
<dd><p>The main interface exposing read/write functionality within a given Arctic instance.</p>
<p>Arctic libraries contain named symbols which are the atomic unit of data storage within Arctic. Symbols
contain data that in most cases resembles a DataFrame and are versioned such that all modifying
operations can be tracked and reverted.</p>
<p>Instances of this class provide a number of primitives to write, modify and remove symbols, as well as
also providing methods to manage library snapshots. For more information on snapshots please see the <cite>snapshot</cite>
method.</p>
<p>Arctic libraries support concurrent writes and reads to multiple symbols as well as concurrent reads to a single
symbol. However, concurrent writers to a single symbol are not supported other than for primitives that
explicitly state support for single-symbol concurrent writes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arctic_instance_description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nvs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">NativeVersionStore</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.__init__" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arctic_instance_description</strong> – Human readable description of the Arctic instance to which this library belongs. Used for informational
purposes only.</p></li>
<li><p><strong>nvs</strong> – The native version store that backs this library.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_previous_versions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staged</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VersionedItem</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.write" title="Permalink to this definition"></a></dt>
<dd><p>Write <code class="docutils literal notranslate"><span class="pre">data</span></code> to the specified <code class="docutils literal notranslate"><span class="pre">symbol</span></code>. If <code class="docutils literal notranslate"><span class="pre">symbol</span></code> already exists then a new version will be created to
reference the newly written data. For more information on versions see the documentation for the <cite>read</cite>
primitive.</p>
<p><code class="docutils literal notranslate"><span class="pre">data</span></code> must be of a format that can be normalised into Arctic’s internal storage structure. Pandas
DataFrames, Pandas Series and Numpy NDArrays can all be normalised. Normalised data will be split along both the
columns and rows into segments. By default, a segment will contain 100,000 rows and 127 columns.</p>
<p>If this library has <code class="docutils literal notranslate"><span class="pre">write_deduplication</span></code> enabled then segments will be deduplicated against storage prior to
write to reduce required IO operations and storage requirements. Data will be effectively deduplicated for all
segments up until the first differing row when compared to storage. As a result, modifying the beginning
of <code class="docutils literal notranslate"><span class="pre">data</span></code> with respect to previously written versions may significantly reduce the effectiveness of
deduplication.</p>
<p>Note that <cite>write</cite> is not designed for multiple concurrent writers over a single symbol <em>unless the staged
keyword argument is set to True</em>. If <code class="docutils literal notranslate"><span class="pre">staged</span></code> is True, written segments will be staged and left in an
“incomplete” stage, unable to be read until they are finalized. This enables multiple
writers to a single symbol - all writing staged data at the same time - with one process able to later finalise
all staged data rendering the data readable by clients. To finalise staged data, see <cite>finalize_staged_data</cite>.</p>
<p>Note: ArcticDB will use the 0-th level index of the Pandas DataFrame for its on-disk index.</p>
<p>Any non-<cite>DatetimeIndex</cite> will converted into an internal <cite>RowCount</cite> index. That is, ArcticDB will assign each
row a monotonically increasing integer identifier and that will be used for the index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – Symbol name. Limited to 255 characters. The following characters are not supported in symbols:
<code class="docutils literal notranslate"><span class="pre">&quot;*&quot;,</span> <span class="pre">&quot;&amp;&quot;,</span> <span class="pre">&quot;&lt;&quot;,</span> <span class="pre">&quot;&gt;&quot;</span></code></p></li>
<li><p><strong>data</strong> (<em>NormalizableType</em>) – Data to be written. To write non-normalizable data, use <cite>write_pickle</cite>.</p></li>
<li><p><strong>metadata</strong> (<em>Any</em><em>, </em><em>default=None</em>) – Optional metadata to persist along with the symbol.</p></li>
<li><p><strong>prune_previous_versions</strong> (<em>bool</em><em>, </em><em>default=True</em>) – Removes previous (non-snapshotted) versions from the database.</p></li>
<li><p><strong>staged</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Whether to write to a staging area rather than immediately to the library.</p></li>
<li><p><strong>validate_index</strong> (<em>bool</em><em>, </em><em>default=False</em>) – <p>If True, will verify that the index of <cite>data</cite> supports date range searches and update operations. This in effect tests that the data is sorted in ascending order.
ArcticDB relies on Pandas to detect if data is sorted - you can call DataFrame.index.is_monotonic_increasing on your input DataFrame to see if Pandas believes the
data to be sorted</p>
<p>Note that each unit of staged data must a) be datetime indexed and b) not overlap with any other unit of
staged data. Note that this will create symbols with Dynamic Schema enabled.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Structure containing metadata and version number of the written symbol in the store.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>VersionedItem</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="library/arcticdb.version_store.library.ArcticUnsupportedDataTypeException.html#arcticdb.version_store.library.ArcticUnsupportedDataTypeException" title="arcticdb.version_store.library.ArcticUnsupportedDataTypeException"><strong>ArcticUnsupportedDataTypeException</strong></a> – If <code class="docutils literal notranslate"><span class="pre">data</span></code> is not of NormalizableType.</p></li>
<li><p><strong>UnsortedDataException</strong> – If data is unsorted, when validate_index is set to True.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;my_dictionary&#39;</span><span class="p">:</span> <span class="s1">&#39;is_great&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">   column</span>
<span class="go">0       5</span>
<span class="go">1       6</span>
<span class="go">2       7</span>
</pre></div>
</div>
<p>Staging data for later finalisation (enables concurrent writes):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1/1/2000&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;staged&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">staged</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Multiple staged writes can occur in parallel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">finalize_staged_data</span><span class="p">(</span><span class="s2">&quot;staged&quot;</span><span class="p">,</span> <span class="n">StagedDataFinalizeMethod</span><span class="o">.</span><span class="n">WRITE</span><span class="p">)</span>  <span class="c1"># Must be run after all staged writes have completed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;staged&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>  <span class="c1"># Would return error if run before finalization</span>
<span class="go">            column</span>
<span class="go">2000-01-01       5</span>
<span class="go">2000-01-02       6</span>
<span class="go">2000-01-03       7</span>
</pre></div>
</div>
<p>WritePayload objects can be unpacked and used as parameters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">WritePayload</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;the&#39;</span><span class="p">:</span> <span class="s1">&#39;metadata&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="o">*</span><span class="n">w</span><span class="p">,</span> <span class="n">staged</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.write_pickle">
<span class="sig-name descname"><span class="pre">write_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_previous_versions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staged</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VersionedItem</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.write_pickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.write_pickle" title="Permalink to this definition"></a></dt>
<dd><p>See <cite>write</cite>. This method differs from <cite>write</cite> only in that <code class="docutils literal notranslate"><span class="pre">data</span></code> can be of any type that is serialisable via
the Pickle library. There are significant downsides to storing data in this way:</p>
<ul class="simple">
<li><p>Retrieval can only be done in bulk. Calls to <cite>read</cite> will not support <cite>date_range</cite>, <cite>query_builder</cite> or <cite>columns</cite>.</p></li>
<li><p>The data cannot be updated or appended to via the update and append methods.</p></li>
<li><p>Writes cannot be deduplicated in any way.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – See documentation on <cite>write</cite>.</p></li>
<li><p><strong>data</strong> (<cite>Any</cite>) – Data to be written.</p></li>
<li><p><strong>metadata</strong> – See documentation on <cite>write</cite>.</p></li>
<li><p><strong>prune_previous_versions</strong> – See documentation on <cite>write</cite>.</p></li>
<li><p><strong>staged</strong> – See documentation on <cite>write</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>See documentation on <cite>write</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>VersionedItem</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write_pickle</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#arcticdb.version_store.library.Library.write" title="arcticdb.version_store.library.Library.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a></dt><dd><p>For more detailed documentation.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.write_batch">
<span class="sig-name descname"><span class="pre">write_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payloads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="library/arcticdb.version_store.library.WritePayload.html#arcticdb.version_store.library.WritePayload" title="arcticdb.version_store.library.WritePayload"><span class="pre">WritePayload</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_previous_versions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staged</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">VersionedItem</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.write_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.write_batch" title="Permalink to this definition"></a></dt>
<dd><p>Write a batch of multiple symbols.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>payloads</strong> (<cite>List[WritePayload]</cite>) – Symbols and their corresponding data. There must not be any duplicate symbols in <cite>payload</cite>.</p></li>
<li><p><strong>prune_previous_versions</strong> (<cite>bool</cite>, default=True) – See <cite>write</cite>.</p></li>
<li><p><strong>staged</strong> (<cite>bool</cite>, default=False) – See <cite>write</cite>.</p></li>
<li><p><strong>validate_index</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, will verify for each entry in the batch hat the index of <cite>data</cite> supports date range searches and update operations.
This in effect tests that the data is sorted in ascending order. ArcticDB relies on Pandas to detect if data is sorted -
you can call DataFrame.index.is_monotonic_increasing on your input DataFrame to see if Pandas believes the data to be sorted</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Structure containing metadata and version number of the written symbols in the store, in the
same order as <cite>payload</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[VersionedItem]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="library/arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException.html#arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException" title="arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException"><strong>ArcticDuplicateSymbolsInBatchException</strong></a> – When duplicate symbols appear in payload.</p></li>
<li><p><a class="reference internal" href="library/arcticdb.version_store.library.ArcticUnsupportedDataTypeException.html#arcticdb.version_store.library.ArcticUnsupportedDataTypeException" title="arcticdb.version_store.library.ArcticUnsupportedDataTypeException"><strong>ArcticUnsupportedDataTypeException</strong></a> – If data that is not of NormalizableType appears in any of the payloads.</p></li>
<li><p><strong>UnsortedDataException</strong> – If data is unsorted, when validate_index is set to True.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#arcticdb.version_store.library.Library.write" title="arcticdb.version_store.library.Library.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a></dt><dd><p>For more detailed documentation.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Writing a simple batch:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">payload_1</span> <span class="o">=</span> <span class="n">WritePayload</span><span class="p">(</span><span class="s2">&quot;symbol_1&quot;</span><span class="p">,</span> <span class="n">df_1</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;the&#39;</span><span class="p">:</span> <span class="s1">&#39;metadata&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">payload_2</span> <span class="o">=</span> <span class="n">WritePayload</span><span class="p">(</span><span class="s2">&quot;symbol_2&quot;</span><span class="p">,</span> <span class="n">df_2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">write_batch</span><span class="p">([</span><span class="n">payload_1</span><span class="p">,</span> <span class="n">payload_2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol_1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">   column</span>
<span class="go">0       1</span>
<span class="go">1       2</span>
<span class="go">2       3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol_2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">   column</span>
<span class="go">0       4</span>
<span class="go">1       5</span>
<span class="go">2       6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">symbol</span><span class="p">,</span> <span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">symbol</span>
<span class="go">(&#39;symbol_1&#39;, &#39;symbol_2&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.write_batch_pickle">
<span class="sig-name descname"><span class="pre">write_batch_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payloads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="library/arcticdb.version_store.library.WritePayload.html#arcticdb.version_store.library.WritePayload" title="arcticdb.version_store.library.WritePayload"><span class="pre">WritePayload</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_previous_versions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staged</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">VersionedItem</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.write_batch_pickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.write_batch_pickle" title="Permalink to this definition"></a></dt>
<dd><p>Write a batch of multiple symbols, pickling their data if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>payloads</strong> (<cite>List[WritePayload]</cite>) – Symbols and their corresponding data. There must not be any duplicate symbols in <cite>payload</cite>.</p></li>
<li><p><strong>prune_previous_versions</strong> (<cite>bool</cite>, default=True) – See <cite>write</cite>.</p></li>
<li><p><strong>staged</strong> (<cite>bool</cite>, default=False) – See <cite>write</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Structures containing metadata and version number of the written symbols in the store, in the
same order as <cite>payload</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[VersionedItem]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="library/arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException.html#arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException" title="arcticdb.version_store.library.ArcticDuplicateSymbolsInBatchException"><strong>ArcticDuplicateSymbolsInBatchException</strong></a> – When duplicate symbols appear in payload.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#arcticdb.version_store.library.Library.write" title="arcticdb.version_store.library.Library.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a></dt><dd><p>For more detailed documentation.</p>
</dd>
<dt><a class="reference internal" href="#arcticdb.version_store.library.Library.write_pickle" title="arcticdb.version_store.library.Library.write_pickle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_pickle</span></code></a></dt><dd><p>For information on the implications of providing data that needs to be pickled.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_previous_versions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VersionedItem</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.append" title="Permalink to this definition"></a></dt>
<dd><p>Appends the given data to the existing, stored data. Append always appends along the index. A new version will
be created to reference the newly-appended data. Append only accepts data for which the index of the first
row is equal to or greater than the index of the last row in the existing data.</p>
<p>Appends containing differing column sets to the existing data are only possible if the library has been
configured to support dynamic schemas.</p>
<p>Note that <cite>append</cite> is not designed for multiple concurrent writers over a single symbol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol name.</p></li>
<li><p><strong>data</strong> – Data to be written.</p></li>
<li><p><strong>metadata</strong> – Optional metadata to persist along with the new symbol version. Note that the metadata is
not combined in any way with the metadata stored in the previous version.</p></li>
<li><p><strong>prune_previous_versions</strong> – Removes previous (non-snapshotted) versions from the database when True.</p></li>
<li><p><strong>validate_index</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, will verify that resulting symbol will support date range searches and update operations. This in effect tests that the previous version of the
data and <cite>data</cite> are both sorted in ascending order. ArcticDB relies on Pandas to detect if data is sorted - you can call DataFrame.index.is_monotonic_increasing
on your input DataFrame to see if Pandas believes the data to be sorted</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Structure containing metadata and version number of the written symbol in the store.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>VersionedItem</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>UnsortedDataException</strong> – If data is unsorted, when validate_index is set to True.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]},</span>
<span class="gp">... </span>   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1/1/2018&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;1/03/2018&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">            column</span>
<span class="go">2018-01-01       1</span>
<span class="go">2018-01-02       2</span>
<span class="go">2018-01-03       3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_append_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]},</span>
<span class="gp">... </span>   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1/4/2018&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;1/06/2018&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">to_append_df</span>
<span class="go">            column</span>
<span class="go">2018-01-04       4</span>
<span class="go">2018-01-05       5</span>
<span class="go">2018-01-06       6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">to_append_df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">            column</span>
<span class="go">2018-01-01       1</span>
<span class="go">2018-01-02       2</span>
<span class="go">2018-01-03       3</span>
<span class="go">2018-01-04       4</span>
<span class="go">2018-01-05       5</span>
<span class="go">2018-01-06       6</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upsert</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Timestamp</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">date</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Timestamp</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">date</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_previous_versions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VersionedItem</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.update" title="Permalink to this definition"></a></dt>
<dd><p>Overwrites existing symbol data with the contents of <code class="docutils literal notranslate"><span class="pre">data</span></code>. The entire range between the first and last index
entry in <code class="docutils literal notranslate"><span class="pre">data</span></code> is replaced in its entirety with the contents of <code class="docutils literal notranslate"><span class="pre">data</span></code>, adding additional index entries if
required. <cite>update</cite> only operates over the outermost index level - this means secondary index rows will be
removed if not contained in <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<p>Both the existing symbol version and <code class="docutils literal notranslate"><span class="pre">data</span></code> must be timeseries-indexed.</p>
<p>Note that <cite>update</cite> is not designed for multiple concurrent writers over a single symbol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol name.</p></li>
<li><p><strong>data</strong> – Timeseries indexed data to use for the update.</p></li>
<li><p><strong>metadata</strong> – Metadata to persist along with the new symbol version.</p></li>
<li><p><strong>upsert</strong> (<em>bool</em><em>, </em><em>default=False</em>) – If True, will write the data even if the symbol does not exist.</p></li>
<li><p><strong>date_range</strong> (<cite>Tuple[Optional[Timestamp], Optional[Timestamp]]</cite>, default=None) – If a range is specified, it will delete the stored value within the range and overwrite it with the data in
<code class="docutils literal notranslate"><span class="pre">data</span></code>. This allows the user to update with data that might only be a subset of the stored value. Leaving
any part of the tuple as None leaves that part of the range open ended. Only data with date_range will be
modified, even if <code class="docutils literal notranslate"><span class="pre">data</span></code> covers a wider date range.</p></li>
<li><p><strong>prune_previous_versions</strong> – Removes previous (non-snapshotted) versions from the database when True.</p></li>
<li><p><strong>default=False</strong> – Removes previous (non-snapshotted) versions from the database when True.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]},</span>
<span class="gp">... </span>   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1/1/2018&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;1/4/2018&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">            column</span>
<span class="go">2018-01-01       1</span>
<span class="go">2018-01-02       2</span>
<span class="go">2018-01-03       3</span>
<span class="go">2018-01-04       4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">update_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>   <span class="p">{</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">40</span><span class="p">]},</span>
<span class="gp">... </span>   <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1/1/2018&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;1/3/2018&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;2D&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">update_df</span>
<span class="go">            column</span>
<span class="go">2018-01-01     400</span>
<span class="go">2018-01-03      40</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">update_df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note that 2018-01-02 is gone despite not being in update_df</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">            column</span>
<span class="go">2018-01-01     400</span>
<span class="go">2018-01-03      40</span>
<span class="go">2018-01-04       4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.finalize_staged_data">
<span class="sig-name descname"><span class="pre">finalize_staged_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">StagedDataFinalizeMethod</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">StagedDataFinalizeMethod.WRITE</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.finalize_staged_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.finalize_staged_data" title="Permalink to this definition"></a></dt>
<dd><p>Finalises staged data, making it available for reads.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<cite>str</cite>) – Symbol to finalize data for.</p></li>
<li><p><strong>mode</strong> (<cite>StagedDataFinalizeMethod</cite>, default=StagedDataFinalizeMethod.WRITE) – Finalise mode. Valid options are WRITE or APPEND. Write collects the staged data and writes them to a
new timeseries. Append collects the staged data and appends them to the latest version.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#arcticdb.version_store.library.Library.write" title="arcticdb.version_store.library.Library.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a></dt><dd><p>Documentation on the <code class="docutils literal notranslate"><span class="pre">staged</span></code> parameter explains the concept of staged data in more detail.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.sort_and_finalize_staged_data">
<span class="sig-name descname"><span class="pre">sort_and_finalize_staged_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">StagedDataFinalizeMethod</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">StagedDataFinalizeMethod.WRITE</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.sort_and_finalize_staged_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.sort_and_finalize_staged_data" title="Permalink to this definition"></a></dt>
<dd><p>sort_merge will sort and finalize staged data. This differs from <cite>finalize_staged_data</cite> in that it
can support staged segments with interleaved time periods - the end result will be ordered. This requires
performing a full sort in memory so can be time consuming.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<cite>str</cite>) – Symbol to finalize data for.</p></li>
<li><p><strong>mode</strong> (<cite>StagedDataFinalizeMethod</cite>, default=StagedDataFinalizeMethod.WRITE) – Finalise mode. Valid options are WRITE or APPEND. Write collects the staged data and writes them to a
new timeseries. Append collects the staged data and appends them to the latest version.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#arcticdb.version_store.library.Library.write" title="arcticdb.version_store.library.Library.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a></dt><dd><p>Documentation on the <code class="docutils literal notranslate"><span class="pre">staged</span></code> parameter explains the concept of staged data in more detail.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.get_staged_symbols">
<span class="sig-name descname"><span class="pre">get_staged_symbols</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.get_staged_symbols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.get_staged_symbols" title="Permalink to this definition"></a></dt>
<dd><p>Returns all symbols with staged, unfinalized data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Symbol names.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[str]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#arcticdb.version_store.library.Library.write" title="arcticdb.version_store.library.Library.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a></dt><dd><p>Documentation on the <code class="docutils literal notranslate"><span class="pre">staged</span></code> parameter explains the concept of staged data in more detail.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_of</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Timestamp</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">date</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Timestamp</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">date</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_builder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="query_builder.html#arcticdb.QueryBuilder" title="arcticdb.version_store.processing.QueryBuilder"><span class="pre">QueryBuilder</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VersionedItem</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.read" title="Permalink to this definition"></a></dt>
<dd><p>Read data for the named symbol.  Returns a VersionedItem object with a data and metadata element (as passed into
write).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> (<em>str</em>) – Symbol name.</p></li>
<li><p><strong>as_of</strong> (<em>AsOf</em><em>, </em><em>default=None</em>) – <dl class="simple">
<dt>Return the data as it was as of the point in time. <code class="docutils literal notranslate"><span class="pre">None</span></code> means that the latest version should be read. The</dt><dd><p>various types of this parameter mean:</p>
</dd>
</dl>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code>: specific version number</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str</span></code>: snapshot name which contains the version</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> : the version of the data that existed <code class="docutils literal notranslate"><span class="pre">as_of</span></code> the requested point in time</p></li>
</ul>
</p></li>
<li><p><strong>date_range</strong> (<em>Tuple</em><em>[</em><em>Optional</em><em>[</em><em>Timestamp</em><em>]</em><em>, </em><em>Optional</em><em>[</em><em>Timestamp</em><em>]</em><em>]</em><em>, </em><em>default=None</em>) – <p>DateRange to restrict read data to.</p>
<p>Applicable only for time-indexed Pandas dataframes or series. Returns only the
part of the data that falls withing the given range (inclusive). None on either end leaves that part of the
range open-ended. Hence specifying <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">datetime(2025,</span> <span class="pre">1,</span> <span class="pre">1)</span></code> declares that you wish to read all data up
to and including 20250101.</p>
</p></li>
<li><p><strong>columns</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Applicable only for Pandas data. Determines which columns to return data for.</p></li>
<li><p><strong>query_builder</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="query_builder.html#arcticdb.QueryBuilder" title="arcticdb.QueryBuilder"><em>QueryBuilder</em></a><em>]</em><em>, </em><em>default=None</em>) – A QueryBuilder object to apply to the dataframe before it is returned. For more information see the
documentation for the QueryBuilder class (<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">arcticdb</span> <span class="pre">import</span> <span class="pre">QueryBuilder;</span> <span class="pre">help(QueryBuilder)</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>VersionedItem object that contains a .data and .metadata element</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;column&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;my_dictionary&#39;</span><span class="p">:</span> <span class="s1">&#39;is_great&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
<span class="go">   column</span>
<span class="go">0       5</span>
<span class="go">1       6</span>
<span class="go">2       7</span>
</pre></div>
</div>
<p>The default read behaviour is also available through subscripting:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
<span class="go">   column</span>
<span class="go">0       5</span>
<span class="go">1       6</span>
<span class="go">2       7</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.read_batch">
<span class="sig-name descname"><span class="pre">read_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="library/arcticdb.version_store.library.ReadRequest.html#arcticdb.version_store.library.ReadRequest" title="arcticdb.version_store.library.ReadRequest"><span class="pre">ReadRequest</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_builder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="query_builder.html#arcticdb.QueryBuilder" title="arcticdb.version_store.processing.QueryBuilder"><span class="pre">QueryBuilder</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">VersionedItem</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.read_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.read_batch" title="Permalink to this definition"></a></dt>
<dd><p>Reads multiple symbols.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbols</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="library/arcticdb.version_store.library.ReadRequest.html#arcticdb.version_store.library.ReadRequest" title="arcticdb.version_store.library.ReadRequest"><em>ReadRequest</em></a><em>]</em><em>]</em>) – List of symbols to read.</p></li>
<li><p><strong>query_builder</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="query_builder.html#arcticdb.QueryBuilder" title="arcticdb.QueryBuilder"><em>QueryBuilder</em></a><em>]</em><em>, </em><em>default=None</em>) – A single QueryBuilder to apply to all the dataframes before they are returned. If this argument is passed
then none of the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> may have their own query_builder specified in their request.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of the read results, whose i-th element corresponds to the i-th element of the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> parameter.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[VersionedItem]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="library/arcticdb.version_store.library.ArcticInvalidApiUsageException.html#arcticdb.version_store.library.ArcticInvalidApiUsageException" title="arcticdb.version_store.library.ArcticInvalidApiUsageException"><strong>ArcticInvalidApiUsageException</strong></a> – If kwarg query_builder and per-symbol query builders both used.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;s1&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;s2&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;col&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;s2&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(),</span> <span class="n">prune_previous_versions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;s3&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">read_batch</span><span class="p">([</span><span class="s2">&quot;s1&quot;</span><span class="p">,</span> <span class="n">ReadRequest</span><span class="p">(</span><span class="s2">&quot;s2&quot;</span><span class="p">,</span> <span class="n">as_of</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="s2">&quot;s3&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">empty</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">batch</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">empty</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#arcticdb.version_store.library.Library.read" title="arcticdb.version_store.library.Library.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.read_metadata">
<span class="sig-name descname"><span class="pre">read_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_of</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VersionedItem</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.read_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.read_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Return the metadata saved for a symbol.  This method is faster than read as it only loads the metadata, not the
data itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol name</p></li>
<li><p><strong>as_of</strong> (<em>AsOf</em><em>, </em><em>default=None</em>) – Return the metadata as it was as of the point in time. See documentation on <cite>read</cite> for documentation on
the different forms this parameter can take.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Structure containing metadata and version number of the affected symbol in the store. The data attribute
will be None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>VersionedItem</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.read_metadata_batch">
<span class="sig-name descname"><span class="pre">read_metadata_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="library/arcticdb.version_store.library.ReadInfoRequest.html#arcticdb.version_store.library.ReadInfoRequest" title="arcticdb.version_store.library.ReadInfoRequest"><span class="pre">ReadInfoRequest</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">VersionedItem</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.read_metadata_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.read_metadata_batch" title="Permalink to this definition"></a></dt>
<dd><p>Reads the metadata of multiple symbols.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symbols</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="library/arcticdb.version_store.library.ReadInfoRequest.html#arcticdb.version_store.library.ReadInfoRequest" title="arcticdb.version_store.library.ReadInfoRequest"><em>ReadInfoRequest</em></a><em>]</em><em>]</em>) – List of symbols to read.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A list of the read results, whose i-th element corresponds to the i-th element of the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> parameter.
A VersionedItem object with the metadata field set as None will be returned if the requested version of the</p>
<blockquote>
<div><p>symbol exists but there is no metadata</p>
</div></blockquote>
<p>A None object will be returned if the requested version of the symbol does not exist</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[VersionedItem]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#arcticdb.version_store.library.Library.read_metadata" title="arcticdb.version_store.library.Library.read_metadata"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_metadata</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.write_metadata">
<span class="sig-name descname"><span class="pre">write_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VersionedItem</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.write_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.write_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Write metadata under the specified symbol name to this library. The data will remain unchanged.
A new version will be created.</p>
<p>If the symbol is missing, it causes a write with empty data (None, pickled, can’t append) and the supplied
metadata.</p>
<p>This method should be faster than <cite>write</cite> as it involves no data segment read/write operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol name for the item</p></li>
<li><p><strong>metadata</strong> – Metadata to persist along with the symbol</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Structure containing metadata and version number of the affected symbol in the store.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>VersionedItem</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.snapshot">
<span class="sig-name descname"><span class="pre">snapshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snapshot_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_symbols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">versions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.snapshot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.snapshot" title="Permalink to this definition"></a></dt>
<dd><p>Creates a named snapshot of the data within a library.</p>
<p>By default, the latest version of every symbol that has not been deleted will be contained within the snapshot.
You can change this behaviour with either <code class="docutils literal notranslate"><span class="pre">versions</span></code> (an allow-list) or with <code class="docutils literal notranslate"><span class="pre">skip_symbols</span></code> (a deny-list).
Concurrent writes with prune previous versions set while the snapshot is being taken can potentially lead to
corruption of the affected symbols in the snapshot.</p>
<p>The symbols and versions contained within the snapshot will persist regardless of new symbols and versions
being written to the library afterwards. If a version or symbol referenced in a snapshot is deleted then the
underlying data will be preserved to ensure the snapshot is still accessible. Only once all referencing
snapshots have been removed will the underlying data be removed as well.</p>
<p>At most one of <code class="docutils literal notranslate"><span class="pre">skip_symbols</span></code> and <code class="docutils literal notranslate"><span class="pre">versions</span></code> may be truthy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>snapshot_name</strong> – Name of the snapshot.</p></li>
<li><p><strong>metadata</strong> (<em>Any</em><em>, </em><em>default=None</em>) – Optional metadata to persist along with the snapshot.</p></li>
<li><p><strong>skip_symbols</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default=None</em>) – Optional symbols to be excluded from the snapshot.</p></li>
<li><p><strong>versions</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em><em>, </em><em>default=None</em>) – Optional dictionary of versions of symbols to snapshot. For example <cite>versions={“a”: 2, “b”: 3}</cite> will
snapshot version 2 of symbol “a” and version 3 of symbol “b”.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>InternalException</strong> – If a snapshot already exists with <code class="docutils literal notranslate"><span class="pre">snapshot_name</span></code>. You must explicitly delete the pre-existing snapshot.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">versions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.delete" title="Permalink to this definition"></a></dt>
<dd><p>Delete all versions of the symbol from the library, unless <code class="docutils literal notranslate"><span class="pre">version</span></code> is specified, in which case only those
versions are deleted.</p>
<p>This may not actually delete the underlying data if a snapshot still references the version. See <cite>snapshot</cite> for
more detail.</p>
<p>Note that this may require data to be removed from the underlying storage which can be slow.</p>
<p>If no symbol called <code class="docutils literal notranslate"><span class="pre">symbol</span></code> exists then this is a no-op. In particular this method does not raise in this case.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol to delete.</p></li>
<li><p><strong>versions</strong> – Version or versions of symbol to delete. If <code class="docutils literal notranslate"><span class="pre">None</span></code> then all versions will be deleted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.prune_previous_versions">
<span class="sig-name descname"><span class="pre">prune_previous_versions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.prune_previous_versions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.prune_previous_versions" title="Permalink to this definition"></a></dt>
<dd><p>Removes all (non-snapshotted) versions from the database for the given symbol, except the latest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symbol</strong> (<cite>str</cite>) – Symbol name to prune.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.delete_data_in_range">
<span class="sig-name descname"><span class="pre">delete_data_in_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Timestamp</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">date</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Timestamp</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">date</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.delete_data_in_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.delete_data_in_range" title="Permalink to this definition"></a></dt>
<dd><p>Delete data within the given date range, creating a new version of <code class="docutils literal notranslate"><span class="pre">symbol</span></code>.</p>
<p>The existing symbol version must be timeseries-indexed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol name.</p></li>
<li><p><strong>date_range</strong> – The date range in which to delete data. Leaving any part of the tuple as None leaves that part of the range
open ended.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;column&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]},</span> <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;1/1/2018&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;1/4/2018&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">delete_data_in_range</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">date_range</span><span class="o">=</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">version</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
<span class="go">                column</span>
<span class="go">2018-01-03       7</span>
<span class="go">2018-01-04       8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.delete_snapshot">
<span class="sig-name descname"><span class="pre">delete_snapshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snapshot_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.delete_snapshot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.delete_snapshot" title="Permalink to this definition"></a></dt>
<dd><p>Delete a named snapshot. This may take time if the given snapshot is the last reference to the underlying
symbol(s) as the underlying data will be removed as well.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>snapshot_name</strong> – The snapshot name to delete.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If the named snapshot does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.list_symbols">
<span class="sig-name descname"><span class="pre">list_symbols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snapshot_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.list_symbols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.list_symbols" title="Permalink to this definition"></a></dt>
<dd><p>Return the symbols in this library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>snapshot_name</strong> – Return the symbols available under the snapshot. If None then considers symbols that are live in the
library as of the current time.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Symbols in the library.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.has_symbol">
<span class="sig-name descname"><span class="pre">has_symbol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_of</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.has_symbol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.has_symbol" title="Permalink to this definition"></a></dt>
<dd><p>Whether this library contains the given symbol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol name for the item</p></li>
<li><p><strong>as_of</strong> (<em>AsOf</em><em>, </em><em>default=None</em>) – Return the data as it was as_of the point in time. See <cite>read</cite> for more documentation. If absent then
considers symbols that are live in the library as of the current time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the symbol is in the library, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">has_symbol</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">has_symbol</span><span class="p">(</span><span class="s2">&quot;another_symbol&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>The __contains__ operator also checks whether a symbol exists in this library as of now:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;symbol&quot;</span> <span class="ow">in</span> <span class="n">lib</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;another_symbol&quot;</span> <span class="ow">in</span> <span class="n">lib</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.list_snapshots">
<span class="sig-name descname"><span class="pre">list_snapshots</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.list_snapshots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.list_snapshots" title="Permalink to this definition"></a></dt>
<dd><p>List the snapshots in the library.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Snapshots in the library. Keys are snapshot names, values are metadata associated with that snapshot.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.list_versions">
<span class="sig-name descname"><span class="pre">list_versions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snapshot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latest_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_snapshots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="library/arcticdb.version_store.library.SymbolVersion.html#arcticdb.version_store.library.SymbolVersion" title="arcticdb.version_store.library.SymbolVersion"><span class="pre">SymbolVersion</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="library/arcticdb.version_store.library.VersionInfo.html#arcticdb.version_store.library.VersionInfo" title="arcticdb.version_store.library.VersionInfo"><span class="pre">VersionInfo</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.list_versions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.list_versions" title="Permalink to this definition"></a></dt>
<dd><p>Get the versions in this library, filtered by the passed in parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol to return versions for.  If None returns versions across all symbols in the library.</p></li>
<li><p><strong>snapshot</strong> – Only return the versions contained in the named snapshot.</p></li>
<li><p><strong>latest_only</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Only include the latest version for each returned symbol.</p></li>
<li><p><strong>skip_snapshots</strong> (<em>bool</em><em>, </em><em>default=False</em>) – Don’t populate version list with snapshot information. Can improve performance significantly if there are
many snapshots.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary describing the version for each symbol-version pair in the library. Since symbol version is a
(named) tuple you can index in to the dictionary simply as shown in the examples below.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="library/arcticdb.version_store.library.SymbolVersion.html#arcticdb.version_store.library.SymbolVersion" title="arcticdb.version_store.library.SymbolVersion">SymbolVersion</a>, <a class="reference internal" href="library/arcticdb.version_store.library.VersionInfo.html#arcticdb.version_store.library.VersionInfo" title="arcticdb.version_store.library.VersionInfo">VersionInfo</a>]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">prune_previous_versions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">snapshot</span><span class="p">(</span><span class="s2">&quot;snapshot&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">prune_previous_versions</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lib</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="n">versions</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">versions</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">list_versions</span><span class="p">(</span><span class="s2">&quot;symbol&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">versions</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">deleted</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">versions</span><span class="p">[</span><span class="s2">&quot;symbol&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">snapshots</span>
<span class="go">[&quot;my_snap&quot;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.head">
<span class="sig-name descname"><span class="pre">head</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_of</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VersionedItem</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.head"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.head" title="Permalink to this definition"></a></dt>
<dd><p>Read the first n rows of data for the named symbol. If n is negative, return all rows except the last n rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol name.</p></li>
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>default=5</em>) – Number of rows to select if non-negative, otherwise number of rows to exclude.</p></li>
<li><p><strong>as_of</strong> (<em>AsOf</em><em>, </em><em>default=None</em>) – See documentation on <cite>read</cite>.</p></li>
<li><p><strong>columns</strong> – See documentation on <cite>read</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>VersionedItem object that contains a .data and .metadata element.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.tail">
<span class="sig-name descname"><span class="pre">tail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_of</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VersionedItem</span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.tail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.tail" title="Permalink to this definition"></a></dt>
<dd><p>Read the last n rows of data for the named symbol. If n is negative, return all rows except the first n rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol name.</p></li>
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>default=5</em>) – Number of rows to select if non-negative, otherwise number of rows to exclude.</p></li>
<li><p><strong>as_of</strong> (<em>AsOf</em><em>, </em><em>default=None</em>) – See documentation on <cite>read</cite>.</p></li>
<li><p><strong>columns</strong> – See documentation on <cite>read</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>VersionedItem object that contains a .data and .metadata element.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.get_description">
<span class="sig-name descname"><span class="pre">get_description</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_of</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="library/arcticdb.version_store.library.SymbolDescription.html#arcticdb.version_store.library.SymbolDescription" title="arcticdb.version_store.library.SymbolDescription"><span class="pre">SymbolDescription</span></a></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.get_description"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.get_description" title="Permalink to this definition"></a></dt>
<dd><p>Returns descriptive data for <code class="docutils literal notranslate"><span class="pre">symbol</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symbol</strong> – Symbol name.</p></li>
<li><p><strong>as_of</strong> (<em>AsOf</em><em>, </em><em>default=None</em>) – See documentation on <cite>read</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Named tuple containing the descriptive data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="library/arcticdb.version_store.library.SymbolDescription.html#arcticdb.version_store.library.SymbolDescription" title="arcticdb.version_store.library.SymbolDescription">SymbolDescription</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="library/arcticdb.version_store.library.SymbolDescription.html#arcticdb.version_store.library.SymbolDescription" title="arcticdb.version_store.library.SymbolDescription"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SymbolDescription</span></code></a></dt><dd><p>For documentation on each field.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.get_description_batch">
<span class="sig-name descname"><span class="pre">get_description_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symbols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="library/arcticdb.version_store.library.ReadInfoRequest.html#arcticdb.version_store.library.ReadInfoRequest" title="arcticdb.version_store.library.ReadInfoRequest"><span class="pre">ReadInfoRequest</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="library/arcticdb.version_store.library.SymbolDescription.html#arcticdb.version_store.library.SymbolDescription" title="arcticdb.version_store.library.SymbolDescription"><span class="pre">SymbolDescription</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.get_description_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.get_description_batch" title="Permalink to this definition"></a></dt>
<dd><p>Returns descriptive data for a list of <code class="docutils literal notranslate"><span class="pre">symbols</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symbols</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="library/arcticdb.version_store.library.ReadInfoRequest.html#arcticdb.version_store.library.ReadInfoRequest" title="arcticdb.version_store.library.ReadInfoRequest"><em>ReadInfoRequest</em></a><em>]</em><em>]</em>) – List of symbols to read.
Params columns, date_range and query_builder from ReadInfoRequest are not used</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of the descriptive data, whose i-th element corresponds to the i-th element of the <code class="docutils literal notranslate"><span class="pre">symbols</span></code> parameter.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="library/arcticdb.version_store.library.SymbolDescription.html#arcticdb.version_store.library.SymbolDescription" title="arcticdb.version_store.library.SymbolDescription">SymbolDescription</a>]</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="library/arcticdb.version_store.library.SymbolDescription.html#arcticdb.version_store.library.SymbolDescription" title="arcticdb.version_store.library.SymbolDescription"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SymbolDescription</span></code></a></dt><dd><p>For documentation on each field.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.reload_symbol_list">
<span class="sig-name descname"><span class="pre">reload_symbol_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/arcticdb/version_store/library.html#Library.reload_symbol_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#arcticdb.version_store.library.Library.reload_symbol_list" title="Permalink to this definition"></a></dt>
<dd><p>Forces the symbol list cache to be reloaded</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="arcticdb.version_store.library.Library.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#arcticdb.version_store.library.Library.name" title="Permalink to this definition"></a></dt>
<dd><p>The name of this library.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-arcticdb.version_store.library"></span></section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="arcticdb/arcticdb.LibraryOptions.html" class="btn btn-neutral float-left" title="arcticdb.LibraryOptions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="library/arcticdb.version_store.library.Library.html" class="btn btn-neutral float-right" title="arcticdb.version_store.library.Library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Man Group.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>