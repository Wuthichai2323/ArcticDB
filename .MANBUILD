#!/bin/bash
# Docs: http://docs/core/mb2/configuration/#project-defaults

export MB_PYTHON_IMAGE=${MB_PYTHON_IMAGE:-releases-docker.repo.prod.m/man/base/man-medusa-python}

# Default Python version used
export MB_PYTHON_IMAGE_TAG=${MB_PYTHON_IMAGE_TAG:-36-1}

# The repos below are accessible by the whole firm
export MB_PYPI_REPO_PUBLIC=${MB_PYPI_REPO_PUBLIC:-http://repo.prod.m/artifactory/api/pypi/man-medusa-361-public}
export MB_PYPI_REPO_PINNED=${MB_PYPI_REPO_PINNED:-http://repo.prod.m/artifactory/api/pypi/man-medusa-361-pinned-private}

export MB_PYTHON_PLATFORM_NAME=pegasus

# arcticdb does not work in 3.6 yet
export MB_PYTHON_PLATFORM_VERSION=3.8
export MB_PYTHON_PLATFORM_DISTRIBUTION=next

# Tests require:
#   - Mongo `instances.cfg`
#   - /apps/research/tools/bin/withproxy ; git clone from GitHub
#   - /etc/krb5.conf ; K8s config for kinit
export MB_RUN_OPTS=${MB_RUN_OPTS:-\
    --rm \
    -v /etc/krb5.conf:/etc/krb5.conf \
    -v /etc/ahl/mongo/instances.cfg:/etc/ahl/mongo/instances.cfg:ro \
    -v /apps/research/tools/bin/_common:/apps/research/tools/bin/_common \
    -v /apps/research/tools/bin/withproxy:/apps/research/tools/bin/withproxy \
    -v /apps/research/tools/bin/mongod:/apps/research/tools/bin/mongod \
    -v /apps/research/tools/mongo:/apps/research/tools/mongo}
